-- Adminer 5.3.0 MariaDB 11.8.2-MariaDB-ubu2404 dump

SET NAMES utf8;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

SET NAMES utf8mb4;

DROP TABLE IF EXISTS `wp_srvc_attribute_definitions`;
CREATE TABLE `wp_srvc_attribute_definitions` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `service_type_id` bigint(20) NOT NULL,
  `code` varchar(64) NOT NULL,
  `label` varchar(128) NOT NULL,
  `data_type` enum('int','decimal','bool','text','enum','date','datetime','json','url','email') NOT NULL,
  `enum_options` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'Valid options for enum data_type as JSON array' CHECK (json_valid(`enum_options`)),
  `unit` varchar(32) DEFAULT NULL COMMENT 'Unit of measurement: users, sites, ft, etc.',
  `required` tinyint(1) NOT NULL DEFAULT 0,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_attribute_definition__service_type_code` (`service_type_id`,`code`),
  KEY `idx_attribute_definition__service_type_id` (`service_type_id`),
  KEY `idx_attribute_definition__code` (`code`),
  KEY `idx_attribute_definition__data_type` (`data_type`),
  KEY `idx_attribute_definition__deleted_at` (`deleted_at`),
  KEY `idx_attribute_definition__created_by` (`created_by`),
  KEY `idx_attribute_definition__updated_by` (`updated_by`),
  CONSTRAINT `fk_attribute_definition__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_attribute_definition__service_type` FOREIGN KEY (`service_type_id`) REFERENCES `wp_srvc_service_types` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_attribute_definition__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Parametric attribute definitions per service type';

INSERT INTO `wp_srvc_attribute_definitions` (`id`, `service_type_id`, `code`, `label`, `data_type`, `enum_options`, `unit`, `required`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	1,	'user_count',	'Number of Users',	'int',	NULL,	'users',	1,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	1,	'concurrent_calls',	'Concurrent Calls',	'int',	NULL,	'calls',	1,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	1,	'sip_trunks',	'SIP Trunk Lines',	'int',	NULL,	'lines',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	1,	'auto_attendant',	'Auto Attendant Required',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	1,	'voicemail_to_email',	'Voicemail to Email',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	1,	'call_recording',	'Call Recording Required',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	1,	'did_count',	'Direct Inward Dial (DIDs)',	'int',	NULL,	'numbers',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(8,	1,	'codec_preference',	'Preferred Audio Codec',	'enum',	'[{\"option\":\"G.711\"},{\"option\":\"G.722\"},{\"option\":\"G.729\"},{\"option\":\"OPUS\"}]',	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(9,	1,	'qos_required',	'QoS Marking Required',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(10,	1,	'fax_support',	'FoIP / Fax Support',	'enum',	'[{\"option\":\"None\"},{\"option\":\"T.38\"},{\"option\":\"G.711 pass-through\"}]',	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(11,	1,	'site_count',	'Number of Sites',	'int',	NULL,	'sites',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(12,	1,	'handoff_type',	'Carrier Handoff Type',	'enum',	'[{\"option\":\"SIP\"},{\"option\":\"PRI\"},{\"option\":\"Analog\"}]',	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(13,	1,	'e911_required',	'E911 / Location Services',	'bool',	NULL,	NULL,	1,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(14,	1,	'redundancy_mode',	'Redundancy / HA Mode',	'enum',	'[{\"option\":\"None\"},{\"option\":\"Active/Passive\"},{\"option\":\"Active/Active\"}]',	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(15,	1,	'ivr_menu_levels',	'IVR Menu Depth',	'int',	NULL,	'levels',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(16,	1,	'recording_storage_days',	'Recording Storage (Days)',	'int',	NULL,	'days',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(17,	2,	'cable_runs',	'Number of Cable Runs',	'int',	NULL,	'runs',	1,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(18,	2,	'cable_length',	'Total Cable Length',	'int',	NULL,	'feet',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(19,	2,	'outlet_count',	'Network Outlets',	'int',	NULL,	'outlets',	1,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(20,	2,	'cable_category',	'Cable Category',	'enum',	'[{\"option\":\"Cat5e\"},{\"option\":\"Cat6\"},{\"option\":\"Cat6A\"},{\"option\":\"Cat7\"},{\"option\":\"Fiber\"}]',	NULL,	1,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(21,	2,	'fiber_required',	'Fiber Optic Required',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(22,	2,	'wireless_coverage',	'Wireless Coverage Area',	'int',	NULL,	'sq_ft',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(23,	2,	'access_points',	'Number of Access Points',	'int',	NULL,	'devices',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(24,	2,	'drop_ceiling',	'Drop Ceiling Environment',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(25,	2,	'plenum_rating',	'Plenum Rating Required',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(26,	2,	'termination_type',	'Termination Type',	'enum',	'[{\"option\":\"110 Punch\"},{\"option\":\"Keystone\"},{\"option\":\"Patch Panel\"}]',	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(27,	2,	'patch_panel_ports',	'Patch Panel Port Count',	'int',	NULL,	'ports',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(28,	2,	'rack_u_available',	'Rack U Space Available',	'int',	NULL,	'U',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(29,	2,	'ap_mount_type',	'AP Mount Type',	'enum',	'[{\"option\":\"Ceiling\"},{\"option\":\"Wall\"},{\"option\":\"T-Rail\"}]',	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(30,	2,	'poe_budget',	'Required PoE Budget',	'decimal',	NULL,	'W',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(31,	2,	'survey_required',	'RF Site Survey Required',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(32,	2,	'throughput_target',	'Target Throughput per AP',	'int',	NULL,	'Mbps',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(33,	3,	'camera_count',	'Number of Cameras',	'int',	NULL,	'cameras',	1,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(34,	3,	'recording_days',	'Recording Retention',	'int',	NULL,	'days',	1,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(35,	3,	'night_vision',	'Night Vision Required',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(36,	3,	'outdoor_cameras',	'Outdoor Cameras',	'int',	NULL,	'cameras',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(37,	3,	'ptz_cameras',	'PTZ Cameras',	'int',	NULL,	'cameras',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(38,	3,	'coverage_area',	'Coverage Area',	'int',	NULL,	'sq_ft',	1,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(39,	3,	'resolution',	'Required Resolution',	'enum',	'[{\"option\":\"1080p\"},{\"option\":\"4MP\"},{\"option\":\"4K\"}]',	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(40,	3,	'ir_distance',	'IR Illumination Distance',	'int',	NULL,	'meters',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(41,	3,	'storage_capacity',	'NVR Storage Capacity',	'int',	NULL,	'GB',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(42,	3,	'analytics',	'Video Analytics',	'enum',	'[{\"option\":\"None\"},{\"option\":\"Motion\"},{\"option\":\"Line Crossing\"},{\"option\":\"Object Detection\"}]',	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(43,	3,	'vms_platform',	'VMS Platform',	'enum',	'[{\"option\":\"Milestone\"},{\"option\":\"Genetec\"},{\"option\":\"Axis Camera Station\"},{\"option\":\"Other\"}]',	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(44,	3,	'license_plate',	'LPR Required',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(45,	3,	'weather_rating',	'Outdoor Weather Rating',	'enum',	'[{\"option\":\"IP65\"},{\"option\":\"IP66\"},{\"option\":\"IP67\"}]',	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(46,	3,	'poe_per_camera',	'PoE Requirement per Camera',	'decimal',	NULL,	'W',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(47,	4,	'door_count',	'Number of Doors',	'int',	NULL,	'doors',	1,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(48,	4,	'user_capacity',	'User Capacity',	'int',	NULL,	'users',	1,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(49,	4,	'card_technology',	'Card Technology',	'enum',	'[{\"option\":\"Proximity\"},{\"option\":\"Mifare\"},{\"option\":\"iClass\"},{\"option\":\"Mobile\"},{\"option\":\"Biometric\"}]',	NULL,	1,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(50,	4,	'integration_required',	'System Integration',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(51,	4,	'time_attendance',	'Time & Attendance',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(52,	4,	'lock_type',	'Lock Hardware Type',	'enum',	'[{\"option\":\"Maglock\"},{\"option\":\"Electric Strike\"},{\"option\":\"Mortise\"}]',	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(53,	4,	'reader_count',	'Number of Readers',	'int',	NULL,	'readers',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(54,	4,	'controller_model',	'Controller Model Preference',	'enum',	'[{\"option\":\"HID\"},{\"option\":\"Honeywell\"},{\"option\":\"Genetec\"},{\"option\":\"Axis\"}]',	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(55,	4,	'fail_mode',	'Fail Mode',	'enum',	'[{\"option\":\"Fail Safe\"},{\"option\":\"Fail Secure\"}]',	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(56,	4,	'emergency_release',	'Emergency Egress Release',	'bool',	NULL,	NULL,	1,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(57,	4,	'door_schedule',	'Door Schedule Profiles',	'int',	NULL,	'profiles',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(58,	4,	'access_levels',	'Access Level Groups',	'int',	NULL,	'levels',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(59,	4,	'audit_retention_days',	'Audit Log Retention',	'int',	NULL,	'days',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(60,	5,	'install_duration',	'Installation Duration',	'int',	NULL,	'days',	1,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(61,	5,	'crew_size',	'Installation Crew Size',	'int',	NULL,	'people',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(62,	5,	'after_hours',	'After Hours Installation',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(63,	5,	'weekend_work',	'Weekend Work Required',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(64,	5,	'permit_required',	'Municipal Permit Required',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(65,	5,	'lift_required',	'Lift / Working at Height',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(66,	5,	'union_site',	'Unionized Site',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(67,	5,	'staging_needed',	'Pre-Staging / Imaging Needed',	'bool',	NULL,	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(68,	5,	'site_induction',	'Safety / Site Induction Time',	'int',	NULL,	'hours',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(69,	5,	'travel_distance',	'Travel Distance (Round Trip)',	'int',	NULL,	'km',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(70,	5,	'material_handling',	'Material Handling Effort',	'enum',	'[{\"option\":\"Light\"},{\"option\":\"Moderate\"},{\"option\":\"Heavy\"}]',	NULL,	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(71,	5,	'warranty_term',	'Workmanship Warranty Term',	'int',	NULL,	'months',	0,	'2025-09-10 14:42:07',	'2025-09-10 14:42:07',	NULL,	1,	2);

DROP TABLE IF EXISTS `wp_srvc_bundles`;
CREATE TABLE `wp_srvc_bundles` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(128) NOT NULL,
  `slug` varchar(128) NOT NULL,
  `short_desc` varchar(512) DEFAULT NULL,
  `is_active` tinyint(1) NOT NULL DEFAULT 1,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_bundle__slug` (`slug`),
  KEY `idx_bundle__is_active` (`is_active`),
  KEY `idx_bundle__deleted_at` (`deleted_at`),
  KEY `idx_bundle__created_by` (`created_by`),
  KEY `idx_bundle__updated_by` (`updated_by`),
  CONSTRAINT `fk_bundle__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_bundle__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Service bundles for grouped offerings';

INSERT INTO `wp_srvc_bundles` (`id`, `name`, `slug`, `short_desc`, `is_active`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	'Small Office Complete',	'small-office-complete',	'Complete IT solution for small offices (5-15 employees)',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	'Medium Business Package',	'medium-business-package',	'Comprehensive IT infrastructure for growing businesses (15-50 employees)',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	'Enterprise Security Suite',	'enterprise-security-suite',	'Complete security solution with cameras, access control, and monitoring',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	'Network Infrastructure Bundle',	'network-infrastructure-bundle',	'Complete network setup with cabling, equipment, and wireless',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	'Communication Package',	'communication-package',	'VoIP system with professional installation and training',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	'Managed Services Starter',	'managed-services-starter',	'Proactive monitoring, patching, and helpdesk for up to 25 endpoints',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(7,	'Managed Services Growth',	'managed-services-growth',	'MSP bundle with endpoint management, backup, and quarterly reviews (25–150 endpoints)',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(8,	'Cloud Readiness Kit',	'cloud-readiness-kit',	'Assessment, migration plan, and pilot workload to AWS/Azure/GCP',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(9,	'Disaster Recovery & Backup',	'dr-backup-suite',	'Cloud backup, on-prem NAS, and DR runbook with quarterly restore tests',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(10,	'Secure Remote Work',	'secure-remote-work',	'VPN, MFA, endpoint hardening, and collaboration enablement for hybrid teams',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(11,	'Retail Security Package',	'retail-security-package',	'8–16 IP cameras, NVR, POS-view zones, and alerting for storefronts',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(12,	'Warehouse Ops Bundle',	'warehouse-ops-bundle',	'Industrial Wi-Fi, handheld scanner network, and camera coverage for aisles/docks',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(13,	'Access Control Upgrade',	'access-control-upgrade',	'4–12 door controllers, readers, credentials, and scheduling with HR integration',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(14,	'Office Move IT Pack',	'office-move-it-pack',	'Structured cabling, rack setup, ISP cutover, and desktop moves in one weekend',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(15,	'Conference Room Pro',	'conference-room-pro',	'UC room system with 4K display, PTZ camera, ceiling mic array, and Teams/Zoom config',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(16,	'Branch-in-a-Box',	'branch-in-a-box',	'Pre-staged router, switch, APs, and VoIP with zero-touch deployment for new sites',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(17,	'Network Refresh Essentials',	'network-refresh-essentials',	'Core/edge switch refresh, VLAN redesign, and PoE budgeting with cutover plan',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(18,	'Compliance Readiness (PCI/HIPAA)',	'compliance-readiness',	'Gap assessment, policy pack, hardening baseline, and evidence collection templates',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(19,	'PenTest & Remediation',	'pentest-remediation',	'External + internal penetration test with prioritized remediation sprints',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(20,	'Smart Building Starter',	'smart-building-starter',	'IP cameras, access control, and environmental sensors with single-pane monitoring',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(21,	'Education Campus Kit',	'education-campus-kit',	'High-density Wi-Fi, content filtering, lab imaging, and classroom AV basics',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(22,	'Healthcare Clinic IT',	'healthcare-clinic-it',	'Secure EHR-ready network, segmented Wi-Fi, IP cameras, and backup with encryption',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(23,	'Construction Site Rapid-Deploy',	'construction-site-rapid',	'Temporary site network with LTE backup, cameras, and access control in rugged enclosures',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(24,	'Executive Protection IT',	'executive-protection-it',	'Hardened endpoints, secure comms, travel kits, and managed identity monitoring',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(25,	'Data Center Mini-Refresh',	'datacenter-mini-refresh',	'Rack consolidation, UPS refresh, virtualization upgrade, and monitoring overhaul',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(26,	'VoIP Launch FastTrack',	'voip-launch-fasttrack',	'50–150 user VoIP deployment with number porting, IVR, training, and QoS tuning',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(27,	'Cabling Turnkey (Cat6A)',	'cabling-turnkey-cat6a',	'Design, install, certify Cat6A with patch panels and labeling up to 96 drops',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(28,	'Video Analytics Suite',	'video-analytics-suite',	'CCTV upgrade with AI analytics (line-crossing, object detection, LPR) and alerting',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1);

DROP TABLE IF EXISTS `wp_srvc_bundle_items`;
CREATE TABLE `wp_srvc_bundle_items` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `bundle_id` bigint(20) NOT NULL,
  `service_id` bigint(20) NOT NULL,
  `quantity` decimal(12,3) NOT NULL DEFAULT 1.000,
  `discount_pct` decimal(5,2) NOT NULL DEFAULT 0.00,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_bundle_item` (`bundle_id`,`service_id`),
  KEY `idx_bundle_item__service_id` (`service_id`),
  KEY `idx_bundle_item__deleted_at` (`deleted_at`),
  KEY `idx_bundle_item__created_by` (`created_by`),
  KEY `idx_bundle_item__updated_by` (`updated_by`),
  CONSTRAINT `fk_bundle_item__bundle` FOREIGN KEY (`bundle_id`) REFERENCES `wp_srvc_bundles` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_bundle_item__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_bundle_item__service` FOREIGN KEY (`service_id`) REFERENCES `wp_srvc_services` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_bundle_item__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Services included in bundles with quantities and discounts';

INSERT INTO `wp_srvc_bundle_items` (`id`, `bundle_id`, `service_id`, `quantity`, `discount_pct`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	1,	1,	1.000,	15.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	1,	5,	1.000,	10.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	1,	8,	1.000,	12.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	1,	11,	1.000,	8.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	1,	14,	1.000,	20.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	2,	2,	1.000,	18.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	2,	6,	1.000,	12.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	2,	9,	1.000,	15.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(9,	2,	12,	1.000,	10.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(10,	2,	15,	1.000,	25.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(11,	3,	10,	1.000,	8.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(12,	3,	13,	1.000,	12.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(13,	3,	15,	1.000,	20.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(14,	3,	17,	1.000,	15.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(15,	4,	6,	1.000,	15.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(16,	4,	7,	1.000,	10.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(17,	4,	16,	1.000,	12.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(18,	5,	2,	1.000,	12.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(19,	5,	4,	1.000,	20.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2);

DROP TABLE IF EXISTS `wp_srvc_categories`;
CREATE TABLE `wp_srvc_categories` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `parent_id` bigint(20) DEFAULT NULL,
  `name` varchar(128) NOT NULL,
  `slug` varchar(128) NOT NULL,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_category__slug` (`slug`),
  KEY `idx_category__parent_id` (`parent_id`),
  KEY `idx_category__deleted_at` (`deleted_at`),
  KEY `idx_category__created_by` (`created_by`),
  KEY `idx_category__updated_by` (`updated_by`),
  CONSTRAINT `fk_category__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_category__parent` FOREIGN KEY (`parent_id`) REFERENCES `wp_srvc_categories` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `fk_category__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Hierarchical service categorization';

INSERT INTO `wp_srvc_categories` (`id`, `parent_id`, `name`, `slug`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	NULL,	'Telecommunications',	'telecommunications',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	NULL,	'Network & Infrastructure',	'network-infrastructure',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	NULL,	'Security Systems',	'security-systems',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	NULL,	'Business Solutions',	'business-solutions',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	NULL,	'Cloud & Hosting',	'cloud-hosting',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	NULL,	'Managed Services',	'managed-services',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	NULL,	'Software Development',	'software-development',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	NULL,	'Facilities & Power',	'facilities-power',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(9,	1,	'VoIP Systems',	'voip-systems',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(10,	1,	'Phone Systems',	'phone-systems',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(11,	1,	'Unified Communications',	'unified-communications',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(12,	1,	'Video Conferencing',	'video-conferencing',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(13,	1,	'Contact Center Solutions',	'contact-center',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(14,	2,	'Network Cabling',	'network-cabling',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(15,	2,	'Wireless Networks',	'wireless-networks',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(16,	2,	'Network Equipment',	'network-equipment',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(17,	2,	'Fiber Optic Solutions',	'fiber-optic',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(18,	2,	'Data Center Infrastructure',	'data-center',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(19,	3,	'Camera Systems',	'camera-systems',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(20,	3,	'Access Control',	'access-control',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(21,	3,	'Alarm Systems',	'alarm-systems',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(22,	3,	'Integrated Security',	'integrated-security',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(23,	3,	'Fire & Life Safety',	'fire-safety',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(24,	4,	'IT Support',	'it-support',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(25,	4,	'Consulting Services',	'consulting',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(26,	4,	'Training',	'training',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(27,	4,	'Maintenance Plans',	'maintenance',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(28,	4,	'Project Management',	'project-management',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(29,	5,	'Cloud Migration',	'cloud-migration',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(30,	5,	'Web Hosting',	'web-hosting',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(31,	5,	'Virtualization',	'virtualization',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(32,	5,	'Disaster Recovery',	'disaster-recovery',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(33,	6,	'Proactive Monitoring',	'proactive-monitoring',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(34,	6,	'Patch Management',	'patch-management',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(35,	6,	'Backup as a Service',	'backup-as-service',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(36,	6,	'Endpoint Management',	'endpoint-management',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(37,	7,	'Custom Applications',	'custom-apps',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(38,	7,	'ERP & CRM Integration',	'erp-crm',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(39,	7,	'API Development',	'api-development',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(40,	7,	'Web & Mobile Apps',	'web-mobile-apps',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(41,	8,	'Power Systems',	'power-systems',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(42,	8,	'UPS & Battery Backup',	'ups-battery',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(43,	8,	'Environmental Monitoring',	'environmental-monitoring',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(44,	8,	'Rack & Enclosures',	'racks-enclosures',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2);

DROP TABLE IF EXISTS `wp_srvc_complexities`;
CREATE TABLE `wp_srvc_complexities` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(64) NOT NULL,
  `level` int(11) NOT NULL,
  `price_multiplier` decimal(8,4) NOT NULL DEFAULT 1.0000,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_complexity__name` (`name`),
  UNIQUE KEY `uq_complexity__level` (`level`),
  KEY `idx_complexity__level` (`level`),
  KEY `idx_complexity__deleted_at` (`deleted_at`),
  KEY `idx_complexity__created_by` (`created_by`),
  KEY `idx_complexity__updated_by` (`updated_by`),
  CONSTRAINT `fk_complexity__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_complexity__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Service complexity levels with associated pricing multipliers';

INSERT INTO `wp_srvc_complexities` (`id`, `name`, `level`, `price_multiplier`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	'Basic',	1,	1.0000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	'Standard',	2,	1.3000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(3,	'Professional',	3,	1.6000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(4,	'Enterprise',	4,	2.2000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(5,	'Custom/Complex',	5,	3.0000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(6,	'Proof of Concept',	0,	0.8000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	'Mission Critical',	6,	3.5000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(8,	'R&D/Experimental',	7,	2.8000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1);

DROP TABLE IF EXISTS `wp_srvc_coverage_areas`;
CREATE TABLE `wp_srvc_coverage_areas` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(128) NOT NULL,
  `code` varchar(64) NOT NULL,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_coverage_area__code` (`code`),
  KEY `idx_coverage_area__name` (`name`),
  KEY `idx_coverage_area__deleted_at` (`deleted_at`),
  KEY `idx_coverage_area__created_by` (`created_by`),
  KEY `idx_coverage_area__updated_by` (`updated_by`),
  CONSTRAINT `fk_coverage_area__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_coverage_area__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Geographic coverage areas for service delivery';

INSERT INTO `wp_srvc_coverage_areas` (`id`, `name`, `code`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	'Local Area',	'LOCAL',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	'Regional Coverage',	'REGIONAL',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	'National Coverage',	'NATIONAL',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	'International Coverage',	'INTERNATIONAL',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	'Greater Toronto Area',	'GTA',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	'Southwest Ontario',	'ON-SW',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	'Central Ontario',	'ON-CENTRAL',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	'Eastern Ontario',	'ON-EAST',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(9,	'Northern Ontario',	'ON-NORTH',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(10,	'Province of Quebec',	'QUEBEC',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(11,	'Western Canada',	'WESTCAN',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(12,	'United States Coverage',	'USA',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(13,	'Asia-Pacific Coverage',	'GLOBAL-APAC',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2);

DROP TABLE IF EXISTS `wp_srvc_deliverables`;
CREATE TABLE `wp_srvc_deliverables` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(128) NOT NULL,
  `description` text DEFAULT NULL,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  KEY `idx_deliverable__name` (`name`),
  KEY `idx_deliverable__deleted_at` (`deleted_at`),
  KEY `idx_deliverable__created_at` (`created_at`),
  KEY `idx_deliverable__updated_at` (`updated_at`),
  KEY `fk_deliverable__created_by` (`created_by`),
  KEY `fk_deliverable__updated_by` (`updated_by`),
  CONSTRAINT `fk_deliverable__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_deliverable__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Deliverable items that can be associated with services';

INSERT INTO `wp_srvc_deliverables` (`id`, `name`, `description`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	'System Design Document',	'Detailed technical design and architecture documentation',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	'Installation Plan',	'Step-by-step installation and deployment plan',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	'Network Diagram',	'Complete network topology and connection diagrams',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	'Equipment List',	'Detailed bill of materials and equipment specifications',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	'Configuration Documentation',	'System configuration settings and parameters',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	'Testing Report',	'Comprehensive system testing and validation results',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	'User Manual',	'End-user operation and maintenance documentation',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	'Training Materials',	'Training guides, videos, and reference materials',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(9,	'Warranty Documentation',	'Equipment warranties and service agreements',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(10,	'As-Built Documentation',	'Final installation documentation with actual configurations',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(11,	'Performance Baseline',	'Initial system performance metrics and benchmarks',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(12,	'Security Assessment',	'Security configuration review and recommendations',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(13,	'Compliance Certificate',	'Industry compliance and certification documentation',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(14,	'Maintenance Schedule',	'Recommended maintenance tasks and schedules',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(15,	'Emergency Procedures',	'Troubleshooting and emergency contact procedures',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(16,	'Change Log',	'Record of all changes, updates, and version history',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(17,	'Deployment Checklist',	'Checklist of pre-deployment, during deployment, and post-deployment tasks',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(18,	'Acceptance Test Plan',	'Formal customer acceptance testing documentation',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(19,	'Project Charter',	'High-level scope, objectives, and responsibilities document',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(20,	'Project Closure Report',	'Summary of deliverables, outcomes, and lessons learned',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(21,	'Disaster Recovery Plan',	'Procedures and documentation for restoring services after failure',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(22,	'Backup Procedures',	'Documentation of data backup policies and schedules',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(23,	'Service Level Agreement (SLA)',	'Defined service expectations, uptime guarantees, and penalties',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(24,	'Operations Handbook',	'Day-to-day operational procedures and escalation processes',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(25,	'Monitoring & Alerts Setup',	'Configuration of system monitoring tools and alert thresholds',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(26,	'API Documentation',	'Reference documentation for developers integrating with the system',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(27,	'Knowledge Base Articles',	'Support-focused documentation for frequently asked questions and troubleshooting',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2);

DROP TABLE IF EXISTS `wp_srvc_delivery_methods`;
CREATE TABLE `wp_srvc_delivery_methods` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(64) NOT NULL,
  `code` varchar(64) NOT NULL,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'Future FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'Future FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_delivery_method__name` (`name`),
  UNIQUE KEY `uq_delivery_method__code` (`code`),
  KEY `idx_delivery_method__deleted_at` (`deleted_at`),
  KEY `idx_delivery_method__created_by` (`created_by`),
  KEY `idx_delivery_method__updated_by` (`updated_by`),
  CONSTRAINT `fk_delivery_method__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_delivery_method__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Delivery methods: On-site, Remote, Ship, Pickup, etc.';

INSERT INTO `wp_srvc_delivery_methods` (`id`, `name`, `code`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	'On-Site Installation',	'ONSITE',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	'Remote Configuration',	'REMOTE',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	'Hybrid (On-site + Remote)',	'HYBRID',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	'Client Self-Install',	'SELFINSTALL',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	'White Glove Service',	'WHITEGLOVE',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	'Pickup',	'PICKUP',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	'Shipping/Delivery',	'SHIPPING',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	'In-Store Service',	'INSTORE',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(9,	'Drop-Ship Partner',	'DROPSHIP',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(10,	'24/7 Emergency Dispatch',	'EMERGENCY',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2);

DROP TABLE IF EXISTS `wp_srvc_equipment`;
CREATE TABLE `wp_srvc_equipment` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `sku` varchar(64) DEFAULT NULL,
  `name` varchar(128) NOT NULL,
  `manufacturer` varchar(128) DEFAULT NULL,
  `specs` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'Equipment specifications as JSON object' CHECK (json_valid(`specs`)),
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_equipment__sku` (`sku`),
  KEY `idx_equipment__name` (`name`),
  KEY `idx_equipment__manufacturer` (`manufacturer`),
  KEY `idx_equipment__deleted_at` (`deleted_at`),
  KEY `idx_equipment__created_at` (`created_at`),
  KEY `idx_equipment__updated_at` (`updated_at`),
  KEY `fk_equipment__created_by` (`created_by`),
  KEY `fk_equipment__updated_by` (`updated_by`),
  CONSTRAINT `fk_equipment__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_equipment__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Equipment catalog items';

INSERT INTO `wp_srvc_equipment` (`id`, `sku`, `name`, `manufacturer`, `specs`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	'VOIP-PBX-001',	'VoIP PBX System',	'Cisco',	'{\"model\": \"UC560\", \"ports\": 24, \"users\": 50, \"features\": [\"SIP\", \"H.323\", \"PoE\"]}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	'VOIP-PHONE-001',	'IP Desk Phone',	'Cisco',	'{\"model\": \"CP-7841\", \"lines\": 4, \"display\": \"3.5 inch\", \"power\": \"PoE\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	'VOIP-PHONE-002',	'Executive IP Phone',	'Cisco',	'{\"model\": \"CP-8851\", \"lines\": 5, \"display\": \"5 inch color\", \"power\": \"PoE+\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	'VOIP-PHONE-003',	'Cordless IP Phone',	'Cisco',	'{\"model\": \"CP-8821\", \"type\": \"wireless\", \"battery\": \"Li-Ion\", \"range\": \"150m\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	'VOIP-GW-001',	'VoIP Gateway',	'AudioCodes',	'{\"model\": \"MP-114\", \"fxs_ports\": 4, \"protocols\": [\"SIP\", \"H.323\"]}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	'NET-SW-001',	'Managed Switch 24-Port',	'Cisco',	'{\"model\": \"SG350-28\", \"ports\": 24, \"uplinks\": 4, \"poe\": true, \"power\": \"185W\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	'NET-SW-002',	'Core Switch 48-Port',	'Cisco',	'{\"model\": \"SG500-52P\", \"ports\": 48, \"uplinks\": 4, \"poe_plus\": true, \"power\": \"370W\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	'NET-RT-001',	'Business Router',	'Cisco',	'{\"model\": \"RV340\", \"wan_ports\": 2, \"lan_ports\": 4, \"vpn\": \"50 tunnels\", \"throughput\": \"500Mbps\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(9,	'NET-AP-001',	'Wireless Access Point',	'Cisco',	'{\"model\": \"WAP371\", \"standard\": \"802.11ac\", \"antennas\": 4, \"power\": \"PoE+\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(10,	'NET-AP-002',	'High-Density Access Point',	'Cisco',	'{\"model\": \"WAP581\", \"standard\": \"802.11ac Wave 2\", \"mu_mimo\": true, \"power\": \"PoE++\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(11,	'CBL-CAT6-001',	'Cat6 Cable - 1000ft',	'Belden',	'{\"category\": \"Cat6\", \"length\": \"1000ft\", \"conductor\": \"23AWG\", \"jacket\": \"CMR\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(12,	'CBL-CAT6A-001',	'Cat6A Cable - 1000ft',	'Belden',	'{\"category\": \"Cat6A\", \"length\": \"1000ft\", \"conductor\": \"23AWG\", \"jacket\": \"CMR\", \"shielded\": true}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(13,	'CBL-FIBER-001',	'Fiber Optic Cable SM',	'Corning',	'{\"type\": \"Single Mode\", \"count\": 12, \"length\": \"1000ft\", \"jacket\": \"OFNR\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(14,	'CBL-PATCH-001',	'Cat6 Patch Cable',	'Panduit',	'{\"category\": \"Cat6\", \"length\": \"3ft\", \"color\": \"blue\", \"connectors\": \"RJ45\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(15,	'SEC-CAM-001',	'IP Security Camera',	'Axis',	'{\"model\": \"P3245-LVE\", \"resolution\": \"1920x1080\", \"night_vision\": true, \"poe_plus\": true}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(16,	'SEC-CAM-002',	'PTZ Security Camera',	'Axis',	'{\"model\": \"P5635-E\", \"resolution\": \"1920x1080\", \"zoom\": \"32x\", \"outdoor\": true}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(17,	'SEC-NVR-001',	'16-Channel NVR',	'Axis',	'{\"model\": \"S2216\", \"channels\": 16, \"storage\": \"16TB\", \"recording\": \"H.264/H.265\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(18,	'SEC-AC-001',	'Access Control Panel',	'HID',	'{\"model\": \"VertX V2000\", \"doors\": 2, \"readers\": 4, \"users\": 50000}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(19,	'SEC-AC-002',	'Card Reader',	'HID',	'{\"model\": \"R40\", \"technology\": \"125kHz\", \"format\": \"Wiegand\", \"led\": true}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(20,	'SEC-AC-003',	'Keypad Reader',	'HID',	'{\"model\": \"RPK40\", \"technology\": \"125kHz + PIN\", \"keys\": 12, \"backlit\": true}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(21,	'SRV-RACK-001',	'Rackmount Server',	'Dell',	'{\"model\": \"PowerEdge R740\", \"cpu\": \"Xeon Silver 4214\", \"ram\": \"64GB DDR4\", \"storage\": \"4x1TB SSD RAID10\", \"psu\": \"Dual Redundant\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(22,	'SRV-TWR-001',	'Tower Server',	'HPE',	'{\"model\": \"ProLiant ML350\", \"cpu\": \"Xeon Gold 5220\", \"ram\": \"128GB DDR4\", \"storage\": \"8x2TB SAS\", \"raid\": \"P408i-p\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(23,	'STOR-NAS-001',	'Network Attached Storage',	'Synology',	'{\"model\": \"RS3618xs\", \"bays\": 12, \"max_capacity\": \"192TB\", \"raid\": [\"RAID5\", \"RAID6\", \"SHR\"]}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(24,	'STOR-SAN-001',	'SAN Storage Array',	'NetApp',	'{\"model\": \"AFF A220\", \"protocols\": [\"iSCSI\", \"FC\", \"NFS\", \"SMB\"], \"capacity\": \"50TB SSD\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(25,	'UPS-001',	'Rackmount UPS 3kVA',	'APC',	'{\"model\": \"Smart-UPS SRT3000RMXLT\", \"capacity\": \"3000VA\", \"runtime\": \"8min full load\", \"network_card\": true}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(26,	'UPS-002',	'Tower UPS 1.5kVA',	'Eaton',	'{\"model\": \"9PX1500RT\", \"capacity\": \"1500VA\", \"runtime\": \"12min\", \"voltage\": \"120V\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(27,	'FW-001',	'Next-Gen Firewall',	'Fortinet',	'{\"model\": \"FortiGate 100F\", \"throughput\": \"20Gbps\", \"vpn\": \"10Gbps\", \"users\": 500}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(28,	'FW-002',	'UTM Appliance',	'Sophos',	'{\"model\": \"XGS 2100\", \"throughput\": \"12Gbps\", \"features\": [\"IPS\", \"AV\", \"Web Filtering\", \"VPN\"]}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(29,	'WC-001',	'Wireless LAN Controller',	'Cisco',	'{\"model\": \"9800-L-C\", \"ap_support\": 250, \"throughput\": \"5Gbps\", \"redundancy\": true}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(30,	'CONF-VC-001',	'Video Conferencing System',	'Poly',	'{\"model\": \"Polycom RealPresence Group 500\", \"resolution\": \"1080p\", \"protocols\": [\"SIP\", \"H.323\"], \"camera\": \"EagleEye IV\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(31,	'CONF-VC-002',	'Conference Room Display',	'Samsung',	'{\"model\": \"QB75R\", \"size\": \"75 inch\", \"resolution\": \"4K UHD\", \"brightness\": \"350 nits\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(32,	'PRN-LSR-001',	'Laser Printer',	'HP',	'{\"model\": \"LaserJet M608dn\", \"ppm\": 55, \"duplex\": true, \"network\": true}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(33,	'PRN-MFP-001',	'Multifunction Printer',	'Canon',	'{\"model\": \"imageRUNNER ADVANCE 4525i\", \"functions\": [\"Print\", \"Copy\", \"Scan\", \"Fax\"], \"ppm\": 25}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(34,	'LTP-BUS-001',	'Business Laptop',	'Lenovo',	'{\"model\": \"ThinkPad T14\", \"cpu\": \"i7-1260P\", \"ram\": \"32GB DDR4\", \"storage\": \"1TB NVMe\", \"os\": \"Windows 11 Pro\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(35,	'LTP-ENG-001',	'Engineering Workstation Laptop',	'Dell',	'{\"model\": \"Precision 5570\", \"cpu\": \"Xeon W-11855M\", \"ram\": \"64GB DDR5\", \"gpu\": \"RTX A3000\", \"storage\": \"2TB NVMe\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(36,	'PC-DT-001',	'Office Desktop PC',	'HP',	'{\"model\": \"EliteDesk 800 G6\", \"cpu\": \"i5-10500\", \"ram\": \"16GB\", \"storage\": \"512GB SSD\", \"os\": \"Windows 11 Pro\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(37,	'MON-001',	'LED Monitor 27\"',	'Dell',	'{\"model\": \"U2722DE\", \"resolution\": \"2560x1440\", \"panel\": \"IPS\", \"refresh_rate\": \"60Hz\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(38,	'MON-002',	'Curved Monitor 34\"',	'LG',	'{\"model\": \"34WN80C-B\", \"resolution\": \"3440x1440\", \"panel\": \"IPS\", \"refresh_rate\": \"75Hz\"}',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2);

DROP TABLE IF EXISTS `wp_srvc_pricing_models`;
CREATE TABLE `wp_srvc_pricing_models` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(64) NOT NULL,
  `code` varchar(64) NOT NULL,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_pricing_model__name` (`name`),
  UNIQUE KEY `uq_pricing_model__code` (`code`),
  KEY `idx_pricing_model__deleted_at` (`deleted_at`),
  KEY `idx_pricing_model__created_by` (`created_by`),
  KEY `idx_pricing_model__updated_by` (`updated_by`),
  CONSTRAINT `fk_pricing_model__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_pricing_model__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Pricing models: fixed, hourly, per_unit, subscription, tiered, volume';

INSERT INTO `wp_srvc_pricing_models` (`id`, `name`, `code`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	'Fixed Project',	'FIXED',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	'Hourly Rate',	'HOURLY',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	'Per Unit/Device',	'UNIT',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	'Monthly Subscription',	'MONTHLY',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	'Annual Contract',	'ANNUAL',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	'Per Square Foot',	'SQ_FT',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	'Tiered Pricing',	'TIERED',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	'Usage-Based',	'USAGE',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(9,	'Pay-As-You-Go',	'PAYG',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(10,	'Hybrid Model',	'HYBRID',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	1);

DROP TABLE IF EXISTS `wp_srvc_pricing_tiers`;
CREATE TABLE `wp_srvc_pricing_tiers` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(64) NOT NULL,
  `code` varchar(64) NOT NULL,
  `sort_order` int(11) NOT NULL DEFAULT 0,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_pricing_tier__name` (`name`),
  UNIQUE KEY `uq_pricing_tier__code` (`code`),
  KEY `idx_pricing_tier__sort_order` (`sort_order`),
  KEY `idx_pricing_tier__deleted_at` (`deleted_at`),
  KEY `idx_pricing_tier__created_by` (`created_by`),
  KEY `idx_pricing_tier__updated_by` (`updated_by`),
  CONSTRAINT `fk_pricing_tier__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_pricing_tier__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Pricing tiers: Retail, Partner, Enterprise, etc.';

INSERT INTO `wp_srvc_pricing_tiers` (`id`, `name`, `code`, `sort_order`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	'Small Business',	'SMB',	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	'Mid-Market',	'MID',	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	'Enterprise',	'ENT',	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	'Government',	'GOV',	4,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	'Non-Profit',	'NPO',	5,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	'Startups',	'START',	6,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(7,	'Education',	'EDU',	7,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(8,	'Healthcare',	'HLTH',	8,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2);

DROP TABLE IF EXISTS `wp_srvc_services`;
CREATE TABLE `wp_srvc_services` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `sku` varchar(64) DEFAULT NULL,
  `slug` varchar(128) NOT NULL,
  `name` varchar(255) NOT NULL,
  `short_desc` varchar(512) DEFAULT NULL,
  `long_desc` text DEFAULT NULL,
  `category_id` bigint(20) NOT NULL,
  `service_type_id` bigint(20) NOT NULL,
  `complexity_id` bigint(20) NOT NULL,
  `is_active` tinyint(1) NOT NULL DEFAULT 1,
  `is_addon` tinyint(1) NOT NULL DEFAULT 0,
  `default_unit` varchar(32) DEFAULT NULL COMMENT 'Default pricing unit: hour, user, site, device',
  `metadata` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'Additional service configuration and properties' CHECK (json_valid(`metadata`)),
  `version` int(11) NOT NULL DEFAULT 1 COMMENT 'Optimistic locking version',
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_service__slug` (`slug`),
  UNIQUE KEY `uq_service__sku` (`sku`),
  KEY `idx_service__category_id` (`category_id`),
  KEY `idx_service__service_type_id` (`service_type_id`),
  KEY `idx_service__complexity_id` (`complexity_id`),
  KEY `idx_service__is_active` (`is_active`),
  KEY `idx_service__is_addon` (`is_addon`),
  KEY `idx_service__deleted_at` (`deleted_at`),
  KEY `idx_service__created_by` (`created_by`),
  KEY `idx_service__updated_by` (`updated_by`),
  KEY `idx_service__sku` (`sku`),
  KEY `idx_service__slug` (`slug`),
  CONSTRAINT `fk_service__category` FOREIGN KEY (`category_id`) REFERENCES `wp_srvc_categories` (`id`) ON UPDATE CASCADE,
  CONSTRAINT `fk_service__complexity` FOREIGN KEY (`complexity_id`) REFERENCES `wp_srvc_complexities` (`id`) ON UPDATE CASCADE,
  CONSTRAINT `fk_service__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_service__service_type` FOREIGN KEY (`service_type_id`) REFERENCES `wp_srvc_service_types` (`id`) ON UPDATE CASCADE,
  CONSTRAINT `fk_service__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Core service catalog entries';

INSERT INTO `wp_srvc_services` (`id`, `sku`, `slug`, `name`, `short_desc`, `long_desc`, `category_id`, `service_type_id`, `complexity_id`, `is_active`, `is_addon`, `default_unit`, `metadata`, `version`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	'VOIP-SYS-BASIC',	'voip-system-basic',	'Basic VoIP System',	'Entry-level VoIP phone system for small offices',	'Complete VoIP phone system including IP PBX, desk phones, and basic features like voicemail, call forwarding, and auto-attendant. Perfect for small businesses with up to 25 users.',	5,	1,	1,	1,	0,	'users',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	'VOIP-SYS-PROF',	'voip-system-professional',	'Professional VoIP System',	'Advanced VoIP solution for growing businesses',	'Comprehensive VoIP system with advanced features including call recording, unified messaging, mobile integration, and detailed reporting. Suitable for businesses with 25-100 users.',	5,	1,	3,	1,	0,	'users',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	'VOIP-SYS-ENT',	'voip-system-enterprise',	'Enterprise VoIP System',	'Full-featured enterprise communication platform',	'Enterprise-grade unified communications platform with advanced call routing, conference bridging, CRM integration, and redundancy. Supports 100+ users with 99.99% uptime SLA.',	5,	1,	4,	1,	0,	'users',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	'VOIP-INST-001',	'voip-installation',	'VoIP System Installation',	'Professional VoIP system installation service',	'Complete installation and configuration of VoIP phone systems including equipment mounting, network configuration, user setup, and training.',	5,	5,	2,	1,	0,	'hours',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	'CBL-INST-001',	'network-cabling-cat6',	'Cat6 Network Cabling',	'Cat6 structured cabling installation',	'Professional installation of Cat6 structured cabling including cable runs, patch panels, outlets, and testing. Includes 25-year manufacturer warranty.',	9,	2,	2,	1,	0,	'runs',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	'CBL-INST-002',	'network-cabling-cat6a',	'Cat6A Network Cabling',	'Cat6A high-performance cabling installation',	'Premium Cat6A shielded cabling installation for high-speed networks up to 10Gbps. Includes professional termination, testing, and certification.',	9,	2,	3,	1,	0,	'runs',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	'CBL-INST-003',	'fiber-optic-installation',	'Fiber Optic Installation',	'Single/multi-mode fiber optic cabling',	'Professional fiber optic cable installation including fusion splicing, testing, and documentation. Supports long-distance and high-bandwidth applications.',	12,	2,	4,	1,	0,	'runs',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	'CAM-SYS-001',	'ip-camera-system-basic',	'Basic IP Camera System',	'Entry-level IP camera surveillance system',	'Complete IP camera system with 4-8 cameras, network video recorder, and basic monitoring software. Includes mobile app access and 30-day recording.',	13,	3,	2,	1,	0,	'cameras',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(9,	'CAM-SYS-002',	'ip-camera-system-pro',	'Professional Camera System',	'Advanced IP camera system with analytics',	'Professional IP camera system with intelligent video analytics, motion detection, facial recognition, and advanced search capabilities. Suitable for medium businesses.',	13,	3,	3,	1,	0,	'cameras',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(10,	'CAM-SYS-003',	'ip-camera-system-ent',	'Enterprise Camera System',	'Large-scale enterprise surveillance solution',	'Enterprise-grade IP camera system with redundant NVRs, advanced analytics, integration APIs, and centralized management. Supports 100+ cameras with scalable architecture.',	13,	3,	4,	1,	0,	'cameras',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(11,	'AC-SYS-001',	'access-control-basic',	'Basic Access Control',	'Single-door access control system',	'Basic access control system for single door with card readers, electronic lock, and simple user management. Includes 100 proximity cards.',	14,	4,	1,	1,	0,	'doors',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(12,	'AC-SYS-002',	'access-control-multi',	'Multi-Door Access Control',	'Multi-door access control system',	'Comprehensive access control system for multiple doors with centralized management, time/attendance tracking, and detailed reporting.',	14,	4,	3,	1,	0,	'doors',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(13,	'AC-SYS-003',	'access-control-enterprise',	'Enterprise Access Control',	'Large-scale enterprise access control',	'Enterprise access control platform with biometric integration, visitor management, emergency lockdown, and integration with HR systems.',	14,	4,	4,	1,	0,	'doors',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(14,	'SUP-001',	'technical-support-basic',	'Basic Technical Support',	'Business hours phone and email support',	'Standard technical support during business hours (8AM-6PM) via phone and email. Includes remote diagnostics and basic troubleshooting.',	17,	6,	1,	1,	0,	'hours',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(15,	'SUP-002',	'technical-support-premium',	'Premium Technical Support',	'24/7 technical support with priority response',	'Premium support with 24/7 availability, 2-hour response time, on-site service, and dedicated account manager. Includes proactive monitoring.',	17,	6,	3,	1,	0,	'hours',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(16,	'CONS-001',	'network-assessment',	'Network Assessment',	'Comprehensive network infrastructure assessment',	'Professional assessment of existing network infrastructure including performance analysis, security review, and improvement recommendations.',	18,	7,	3,	1,	0,	'hours',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(17,	'CONS-002',	'security-audit',	'Security System Audit',	'Security system evaluation and recommendations',	'Comprehensive security audit including physical security assessment, system vulnerabilities, and compliance review with detailed recommendations.',	18,	7,	3,	1,	0,	'hours',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(18,	'CLOUD-MIG-001',	'cloud-migration-basic',	'Cloud Migration (Basic)',	'Migrate small workloads to cloud',	'Basic migration of up to 10 VMs or applications into public cloud environments (AWS/Azure/GCP) including planning, execution, and validation.',	21,	12,	2,	1,	0,	'projects',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(19,	'CLOUD-MIG-002',	'cloud-migration-enterprise',	'Enterprise Cloud Migration',	'End-to-end enterprise cloud transition',	'Comprehensive enterprise migration including hybrid strategy, application modernization, and data warehouse lift-and-shift. Includes DR/backup integration.',	21,	12,	4,	1,	0,	'projects',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(20,	'CLOUD-BACKUP-001',	'cloud-backup-service',	'Cloud Backup as a Service',	'Secure cloud data backup',	'Automated backup of files, databases, and VMs to redundant cloud storage with configurable retention policies, 256-bit encryption, and compliance options.',	22,	13,	2,	1,	0,	'GB',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(21,	'MSP-MON-001',	'proactive-monitoring',	'Proactive Monitoring',	'24/7 system monitoring',	'Continuous monitoring of servers, network devices, and applications with automated alerts, monthly health reports, and threshold-based escalation.',	25,	9,	2,	1,	0,	'devices',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(22,	'MSP-ENDPOINT-001',	'endpoint-management',	'Endpoint Management',	'Centralized workstation and server management',	'Management of Windows, Mac, and Linux endpoints including patching, antivirus, policy enforcement, and reporting. Supports up to 5,000 devices.',	25,	9,	3,	1,	0,	'devices',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(23,	'MSP-PATCH-001',	'patch-management',	'Patch Management Service',	'Automated OS and application patching',	'End-to-end patch lifecycle management for servers and endpoints with testing, deployment, rollback procedures, and compliance reporting.',	25,	9,	2,	1,	0,	'devices',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(24,	'TRAIN-001',	'end-user-training',	'End-User Training Session',	'Basic IT system training for employees',	'Interactive session covering common IT tools, cybersecurity awareness, and productivity best practices. Includes Q&A and training materials.',	19,	4,	1,	1,	0,	'hours',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(25,	'TRAIN-002',	'admin-training',	'Administrator Training',	'Advanced system administration training',	'In-depth training for IT administrators on VoIP, security systems, and network tools. Covers advanced troubleshooting and integration scenarios.',	19,	4,	2,	1,	0,	'hours',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(26,	'CONS-003',	'it-strategy-workshop',	'IT Strategy Workshop',	'Executive-level IT planning workshop',	'Facilitated workshop for executives and IT managers to define IT roadmap, budget priorities, and digital transformation initiatives.',	18,	7,	3,	1,	0,	'sessions',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(27,	'CONS-004',	'compliance-consulting',	'Compliance Consulting',	'Support for IT compliance frameworks',	'Consulting engagement to align IT operations with HIPAA, PCI-DSS, GDPR, or ISO 27001 standards. Includes gap analysis and remediation roadmap.',	18,	15,	3,	1,	0,	'hours',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(28,	'SEC-AUD-001',	'penetration-testing',	'Penetration Testing Service',	'Ethical hacking and security testing',	'Comprehensive penetration testing of applications, infrastructure, and wireless networks with full reporting and remediation recommendations.',	3,	14,	3,	1,	0,	'projects',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(29,	'SEC-AUD-002',	'vulnerability-assessment',	'Vulnerability Assessment',	'Identify and prioritize vulnerabilities',	'Automated and manual vulnerability scanning across networks, servers, and endpoints. Includes risk scoring, patch guidance, and compliance mapping.',	3,	14,	2,	1,	0,	'projects',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(30,	'FAC-UPS-001',	'ups-installation',	'UPS Installation Service',	'On-site UPS system setup',	'Installation and commissioning of single-phase or three-phase UPS systems including electrical integration, testing, and user training.',	40,	5,	2,	1,	0,	'units',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(31,	'FAC-RACK-001',	'rack-installation',	'Rack & Enclosure Installation',	'Professional rack and enclosure setup',	'Physical installation of racks and enclosures in data center or server rooms, including cable management and grounding compliance.',	41,	5,	2,	1,	0,	'units',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(32,	'ADD-BACKUP-001',	'backup-addon',	'Additional Backup Storage',	'Expandable cloud backup storage add-on',	'Additional 500GB increments of secure cloud backup storage. Requires active backup subscription.',	22,	13,	1,	1,	1,	'GB',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(33,	'ADD-CAM-001',	'extra-camera',	'Additional IP Camera',	'Add-on for IP camera systems',	'Optional add-on to expand an existing IP camera system with extra cameras. Includes mounting and system integration.',	13,	3,	1,	1,	1,	'cameras',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1);

DROP TABLE IF EXISTS `wp_srvc_service_addons`;
CREATE TABLE `wp_srvc_service_addons` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `service_id` bigint(20) NOT NULL,
  `addon_service_id` bigint(20) NOT NULL,
  `required` tinyint(1) NOT NULL DEFAULT 0,
  `min_qty` decimal(12,3) NOT NULL DEFAULT 0.000,
  `max_qty` decimal(12,3) DEFAULT NULL,
  `price_delta` decimal(12,2) DEFAULT NULL,
  `multiplier` decimal(12,4) NOT NULL DEFAULT 1.0000,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'Fk to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'Fk to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_service_addon` (`service_id`,`addon_service_id`),
  KEY `idx_service_id` (`service_id`),
  KEY `idx_addon_service_id` (`addon_service_id`),
  KEY `idx_addon_service__deleted_at` (`deleted_at`),
  KEY `idx_addon_service__created_by` (`created_by`),
  KEY `idx_addon_service__updated_by` (`updated_by`),
  CONSTRAINT `fk_service_addon__addon_service` FOREIGN KEY (`addon_service_id`) REFERENCES `wp_srvc_services` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_service_addon__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_service_addon__service` FOREIGN KEY (`service_id`) REFERENCES `wp_srvc_services` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_service_addon__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Service add-on relationships with pricing overrides';

INSERT INTO `wp_srvc_service_addons` (`id`, `service_id`, `addon_service_id`, `required`, `min_qty`, `max_qty`, `price_delta`, `multiplier`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	1,	4,	1,	1.000,	1.000,	NULL,	1.0000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	1,	14,	0,	0.000,	1.000,	NULL,	1.0000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	2,	4,	1,	1.000,	1.000,	NULL,	1.2000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	2,	15,	0,	0.000,	1.000,	NULL,	1.0000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	3,	4,	1,	1.000,	1.000,	NULL,	1.5000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	3,	15,	0,	0.000,	1.000,	NULL,	1.0000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	8,	5,	0,	0.000,	NULL,	NULL,	1.0000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	9,	6,	0,	0.000,	NULL,	NULL,	1.0000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(9,	10,	7,	0,	0.000,	NULL,	NULL,	1.0000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(10,	11,	16,	0,	0.000,	1.000,	-10.00,	1.0000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(11,	12,	17,	0,	0.000,	1.000,	NULL,	1.0000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(12,	13,	17,	1,	1.000,	1.000,	NULL,	1.0000,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2);

DELIMITER ;;

CREATE TRIGGER `tr_service_addon_no_self_ref` BEFORE INSERT ON `wp_srvc_service_addons` FOR EACH ROW
BEGIN IF NEW.service_id = NEW.addon_service_id THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Service cannot be an addon to itself'; END IF; END;;

CREATE TRIGGER `tr_service_addon_no_self_ref_update` BEFORE UPDATE ON `wp_srvc_service_addons` FOR EACH ROW
BEGIN IF NEW.service_id = NEW.addon_service_id THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Service cannot be an addon to itself';END IF; END;;

DELIMITER ;

DROP TABLE IF EXISTS `wp_srvc_service_attribute_values`;
CREATE TABLE `wp_srvc_service_attribute_values` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `service_id` bigint(20) NOT NULL,
  `attribute_definition_id` bigint(20) NOT NULL,
  `value` text NOT NULL,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_service_attribute_value` (`service_id`,`attribute_definition_id`),
  KEY `idx_service_attribute_value__service_id` (`service_id`),
  KEY `idx_service_attribute_value__attribute_definition_id` (`attribute_definition_id`),
  KEY `idx_service_attribute_value__deleted_at` (`deleted_at`),
  KEY `idx_service_attribute_value__created_by` (`created_by`),
  KEY `idx_service_attribute_value__updated_by` (`updated_by`),
  CONSTRAINT `fk_service_attribute_value__attribute_definition` FOREIGN KEY (`attribute_definition_id`) REFERENCES `wp_srvc_attribute_definitions` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_service_attribute_value__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_service_attribute_value__service` FOREIGN KEY (`service_id`) REFERENCES `wp_srvc_services` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_service_attribute_value__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Attribute values for services based on their type definitions';

INSERT INTO `wp_srvc_service_attribute_values` (`id`, `service_id`, `attribute_definition_id`, `value`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	1,	1,	'i:25;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	1,	2,	'i:10;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	1,	3,	'i:5;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	1,	4,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	1,	5,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	1,	6,	'b:0;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	2,	1,	'i:100;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	2,	2,	'i:40;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(9,	2,	3,	'i:20;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(10,	2,	4,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(11,	2,	5,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(12,	2,	6,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(13,	3,	1,	'i:500;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(14,	3,	2,	'i:200;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(15,	3,	3,	'i:100;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(16,	3,	4,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(17,	3,	5,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(18,	3,	6,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(19,	5,	7,	'i:50;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(20,	5,	8,	'i:2500;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(21,	5,	9,	'i:50;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(22,	5,	10,	's:4:\"Cat6\";',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(23,	5,	11,	'b:0;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(24,	6,	7,	'i:75;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(25,	6,	8,	'i:4000;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(26,	6,	9,	'i:75;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(27,	6,	10,	's:5:\"Cat6A\";',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(28,	6,	11,	'b:0;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(29,	7,	7,	'i:12;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(30,	7,	8,	'i:1500;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(31,	7,	9,	'i:12;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(32,	7,	10,	's:5:\"Fiber\";',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(33,	7,	11,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(34,	8,	14,	'i:8;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(35,	8,	15,	'i:30;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(36,	8,	16,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(37,	8,	17,	'i:4;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(38,	8,	18,	'i:0;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(39,	8,	19,	'i:5000;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(40,	9,	14,	'i:32;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(41,	9,	15,	'i:90;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(42,	9,	16,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(43,	9,	17,	'i:16;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(44,	9,	18,	'i:4;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(45,	9,	19,	'i:25000;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(46,	10,	14,	'i:128;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(47,	10,	15,	'i:365;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(48,	10,	16,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(49,	10,	17,	'i:64;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(50,	10,	18,	'i:16;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(51,	10,	19,	'i:100000;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(52,	11,	20,	'i:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(53,	11,	21,	'i:100;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(54,	11,	22,	's:9:\"Proximity\";',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(55,	11,	23,	'b:0;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(56,	11,	24,	'b:0;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(57,	12,	20,	'i:8;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(58,	12,	21,	'i:500;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(59,	12,	22,	's:6:\"Mifare\";',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(60,	12,	23,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(61,	12,	24,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(62,	13,	20,	'i:50;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(63,	13,	21,	'i:10000;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(64,	13,	22,	's:6:\"iClass\";',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(65,	13,	23,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(66,	13,	24,	'b:1;',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2);

DROP TABLE IF EXISTS `wp_srvc_service_coverage`;
CREATE TABLE `wp_srvc_service_coverage` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `service_id` bigint(20) NOT NULL,
  `coverage_area_id` bigint(20) NOT NULL,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_service_coverage` (`service_id`,`coverage_area_id`),
  KEY `idx_service_coverage__coverage_area_id` (`coverage_area_id`),
  KEY `idx_service_coverage__service_id` (`service_id`),
  KEY `idx_service_coverage__deleted_at` (`deleted_at`),
  KEY `idx_service_coverage__created_by` (`created_by`),
  KEY `idx_service_coverage__updated_by` (`updated_by`),
  CONSTRAINT `fk_service_coverage__coverage_area` FOREIGN KEY (`coverage_area_id`) REFERENCES `wp_srvc_coverage_areas` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_service_coverage__service` FOREIGN KEY (`service_id`) REFERENCES `wp_srvc_services` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_service_coverage_value__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_service_coverage_value__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Service availability in coverage areas';

INSERT INTO `wp_srvc_service_coverage` (`id`, `service_id`, `coverage_area_id`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	1,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	1,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	1,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	2,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	2,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	3,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	3,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	3,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(9,	3,	4,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(10,	3,	5,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(11,	4,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(12,	4,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(13,	4,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(14,	5,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(15,	5,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(16,	5,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(17,	6,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(18,	6,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(19,	7,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(20,	8,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(21,	8,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(22,	8,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(23,	9,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(24,	10,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(25,	10,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(26,	10,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(27,	10,	4,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(28,	11,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(29,	11,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(30,	12,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(31,	13,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(32,	13,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(33,	13,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(34,	13,	4,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(35,	14,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(36,	14,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(37,	14,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(38,	15,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(39,	15,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(40,	15,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(41,	15,	4,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(42,	15,	5,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(43,	16,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(44,	16,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(45,	16,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(46,	17,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(47,	17,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2);

DROP TABLE IF EXISTS `wp_srvc_service_deliverable_assignments`;
CREATE TABLE `wp_srvc_service_deliverable_assignments` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `service_id` bigint(20) NOT NULL,
  `deliverable_id` bigint(20) NOT NULL,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_service_deliverable_assignment` (`service_id`,`deliverable_id`),
  KEY `idx_service_deliverable_assignment__deliverable_id` (`deliverable_id`),
  KEY `idx_service_deliverable_assignment__deleted_at` (`deleted_at`),
  KEY `idx_service_deliverable_assignment__created_by` (`created_by`),
  KEY `idx_service_deliverable_assignment__updated_by` (`updated_by`),
  CONSTRAINT `fk_service_deliverable_assignment__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_service_deliverable_assignment__deliverable` FOREIGN KEY (`deliverable_id`) REFERENCES `wp_srvc_deliverables` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_service_deliverable_assignment__service` FOREIGN KEY (`service_id`) REFERENCES `wp_srvc_services` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_service_deliverable_assignment__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Deliverables associated with services';

INSERT INTO `wp_srvc_service_deliverable_assignments` (`id`, `service_id`, `deliverable_id`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	1,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	1,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	1,	5,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	1,	7,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	1,	9,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	2,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	2,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	2,	5,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(9,	2,	7,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(10,	2,	8,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(11,	2,	9,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(12,	2,	11,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(13,	3,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(14,	3,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(15,	3,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(16,	3,	5,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(17,	3,	7,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(18,	3,	8,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(19,	3,	9,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(20,	3,	10,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(21,	3,	11,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(22,	3,	14,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(23,	5,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(24,	5,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(25,	5,	4,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(26,	5,	6,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(27,	5,	9,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(28,	5,	10,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(29,	6,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(30,	6,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(31,	6,	4,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(32,	6,	6,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(33,	6,	9,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(34,	6,	10,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(35,	6,	13,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(36,	7,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(37,	7,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(38,	7,	3,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(39,	7,	4,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(40,	7,	6,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(41,	7,	9,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(42,	7,	10,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(43,	7,	13,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(44,	8,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(45,	8,	5,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(46,	8,	7,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(47,	8,	9,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(48,	9,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(49,	9,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(50,	9,	5,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(51,	9,	7,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(52,	9,	8,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(53,	9,	9,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(54,	9,	12,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(55,	10,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(56,	10,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(57,	10,	5,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(58,	10,	7,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(59,	10,	8,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(60,	10,	9,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(61,	10,	10,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(62,	10,	12,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(63,	10,	14,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(64,	10,	15,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(65,	11,	5,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(66,	11,	7,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(67,	11,	9,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(68,	12,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(69,	12,	5,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(70,	12,	7,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(71,	12,	8,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(72,	12,	9,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(73,	12,	12,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(74,	13,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(75,	13,	2,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(76,	13,	5,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(77,	13,	7,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(78,	13,	8,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(79,	13,	9,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(80,	13,	10,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(81,	13,	12,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(82,	13,	13,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(83,	13,	14,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(84,	13,	15,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(85,	16,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(86,	16,	11,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(87,	16,	12,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(88,	17,	12,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(89,	17,	13,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(90,	17,	15,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2);

DROP TABLE IF EXISTS `wp_srvc_service_delivery_method_assignments`;
CREATE TABLE `wp_srvc_service_delivery_method_assignments` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `service_id` bigint(20) NOT NULL,
  `delivery_method_id` bigint(20) NOT NULL,
  `lead_time_days` int(11) NOT NULL DEFAULT 0,
  `sla_hours` int(11) DEFAULT NULL,
  `surcharge` decimal(12,2) NOT NULL DEFAULT 0.00,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_service_delivery_method_assignment` (`service_id`,`delivery_method_id`),
  KEY `idx_service_delivery_method_assignment__delivery_method_id` (`delivery_method_id`),
  KEY `idx_service_delivery_method_assignment__deleted_at` (`deleted_at`),
  KEY `idx_service_delivery_method_assignment__created_by` (`created_by`),
  KEY `idx_service_delivery_method_assignment__updated_by` (`updated_by`),
  CONSTRAINT `fk_service_delivery_method_assignment__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_service_delivery_method_assignment__delivery_method` FOREIGN KEY (`delivery_method_id`) REFERENCES `wp_srvc_delivery_methods` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_service_delivery_method_assignment__service` FOREIGN KEY (`service_id`) REFERENCES `wp_srvc_services` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_service_delivery_method_assignment__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Delivery methods available for services with lead times and surcharges';

INSERT INTO `wp_srvc_service_delivery_method_assignments` (`id`, `service_id`, `delivery_method_id`, `lead_time_days`, `sla_hours`, `surcharge`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	1,	1,	5,	48,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	1,	3,	7,	72,	200.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	2,	1,	7,	72,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	2,	3,	10,	96,	500.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	3,	1,	14,	120,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	3,	5,	21,	168,	2000.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	4,	1,	2,	24,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	4,	5,	3,	48,	300.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(9,	5,	1,	3,	48,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(10,	6,	1,	5,	72,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(11,	7,	1,	10,	120,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(12,	7,	5,	14,	168,	1000.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(13,	8,	1,	5,	72,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(14,	9,	1,	10,	120,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(15,	9,	5,	14,	168,	800.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(16,	10,	1,	21,	240,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(17,	10,	5,	28,	336,	2500.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(18,	11,	1,	3,	48,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(19,	12,	1,	7,	96,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(20,	13,	1,	14,	168,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(21,	13,	5,	21,	240,	1500.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(22,	14,	1,	1,	24,	50.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(23,	14,	2,	0,	4,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(24,	15,	1,	0,	4,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(25,	15,	2,	0,	2,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(26,	15,	5,	0,	1,	100.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(27,	16,	1,	5,	72,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(28,	16,	2,	2,	48,	-25.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(29,	16,	3,	3,	56,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(30,	17,	1,	7,	96,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(31,	17,	3,	10,	120,	0.00,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2);

DROP TABLE IF EXISTS `wp_srvc_service_equipment_assignments`;
CREATE TABLE `wp_srvc_service_equipment_assignments` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `service_id` bigint(20) NOT NULL,
  `equipment_id` bigint(20) NOT NULL,
  `required` tinyint(1) NOT NULL DEFAULT 1,
  `quantity` decimal(12,3) NOT NULL DEFAULT 1.000,
  `substitute_ok` tinyint(1) NOT NULL DEFAULT 0,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_service_equipment_assignments` (`service_id`,`equipment_id`),
  KEY `idx_service_equipment_assignment__equipment_id` (`equipment_id`),
  KEY `idx_service_equipment_assignment__deleted_at` (`deleted_at`),
  KEY `idx_service_equipment_assignment__created_by` (`created_by`),
  KEY `idx_service_equipment_assignment__updated_by` (`updated_by`),
  CONSTRAINT `fk_service_equipment_assignment__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_service_equipment_assignment__equipment` FOREIGN KEY (`equipment_id`) REFERENCES `wp_srvc_equipment` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_service_equipment_assignment__service` FOREIGN KEY (`service_id`) REFERENCES `wp_srvc_services` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_service_equipment_assignment__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Equipment requirements for services';

INSERT INTO `wp_srvc_service_equipment_assignments` (`id`, `service_id`, `equipment_id`, `required`, `quantity`, `substitute_ok`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	1,	3,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(2,	1,	4,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(3,	1,	6,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(4,	1,	7,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(5,	1,	8,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(6,	2,	2,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(7,	2,	5,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(8,	2,	9,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:18:33',	NULL,	1,	2),
(9,	3,	3,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:18:33',	NULL,	1,	2),
(10,	3,	6,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(11,	3,	9,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(12,	4,	1,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(13,	4,	4,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(14,	4,	6,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(15,	5,	2,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(16,	5,	3,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:18:38',	NULL,	1,	2),
(17,	5,	8,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(18,	6,	1,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(19,	6,	4,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(20,	6,	6,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(21,	7,	4,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(22,	7,	12,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(23,	8,	2,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(24,	8,	5,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:18:38',	NULL,	1,	2),
(25,	8,	6,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2),
(26,	9,	5,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:18:38',	NULL,	1,	2),
(27,	10,	6,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:18:38',	NULL,	1,	2),
(28,	11,	7,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:18:38',	NULL,	1,	2),
(29,	12,	8,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:18:38',	NULL,	1,	2),
(30,	17,	7,	1,	12.000,	0,	'2025-09-05 23:13:26',	'2025-09-05 23:13:26',	NULL,	1,	2);

DROP TABLE IF EXISTS `wp_srvc_service_prices`;
CREATE TABLE `wp_srvc_service_prices` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `service_id` bigint(20) NOT NULL,
  `pricing_tier_id` bigint(20) NOT NULL,
  `pricing_model_id` bigint(20) NOT NULL,
  `currency` char(3) NOT NULL DEFAULT 'CAD',
  `amount` decimal(12,2) DEFAULT NULL,
  `unit` varchar(32) DEFAULT NULL COMMENT 'Pricing unit: hour, user, device, site, month',
  `min_qty` decimal(12,3) NOT NULL DEFAULT 1.000,
  `max_qty` decimal(12,3) DEFAULT NULL,
  `setup_fee` decimal(12,2) NOT NULL DEFAULT 0.00,
  `notes` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'Informational service price configuration and properties' CHECK (json_valid(`notes`)),
  `effective_from` date NOT NULL DEFAULT curdate(),
  `effective_to` date DEFAULT NULL,
  `version` int(11) NOT NULL DEFAULT 1 COMMENT 'Optimistic locking version',
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'Fk to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'Fk to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_service_price__scope_effective` (`service_id`,`pricing_tier_id`,`pricing_model_id`,`effective_from`),
  KEY `idx_service_price__service_id` (`service_id`),
  KEY `idx_service_price__pricing_tier_id` (`pricing_tier_id`),
  KEY `idx_service_price__pricing_model_id` (`pricing_model_id`),
  KEY `idx_service_price__effective_dates` (`effective_from`,`effective_to`),
  KEY `idx_service_price__currency` (`currency`),
  KEY `idx_service_price__deleted_at` (`deleted_at`),
  KEY `idx_service_price__created_by` (`created_by`),
  KEY `idx_service_price__updated_by` (`updated_by`),
  CONSTRAINT `fk_service_price__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_service_price__pricing_model` FOREIGN KEY (`pricing_model_id`) REFERENCES `wp_srvc_pricing_models` (`id`) ON UPDATE CASCADE,
  CONSTRAINT `fk_service_price__pricing_tier` FOREIGN KEY (`pricing_tier_id`) REFERENCES `wp_srvc_pricing_tiers` (`id`) ON UPDATE CASCADE,
  CONSTRAINT `fk_service_price__service` FOREIGN KEY (`service_id`) REFERENCES `wp_srvc_services` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_service_price__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Service pricing with effective date ranges';

INSERT INTO `wp_srvc_service_prices` (`id`, `service_id`, `pricing_tier_id`, `pricing_model_id`, `currency`, `amount`, `unit`, `min_qty`, `max_qty`, `setup_fee`, `notes`, `effective_from`, `effective_to`, `version`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	1,	1,	4,	'CAD',	45.00,	'user/month',	5.000,	25.000,	500.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	1,	2,	4,	'CAD',	42.00,	'user/month',	5.000,	25.000,	400.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	1,	3,	5,	'CAD',	480.00,	'user/year',	10.000,	50.000,	1000.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	2,	1,	4,	'CAD',	65.00,	'user/month',	10.000,	100.000,	1500.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	2,	2,	4,	'CAD',	60.00,	'user/month',	10.000,	100.000,	1200.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	2,	3,	5,	'CAD',	650.00,	'user/year',	25.000,	200.000,	3000.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	3,	2,	4,	'CAD',	85.00,	'user/month',	25.000,	NULL,	5000.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	3,	3,	5,	'CAD',	900.00,	'user/year',	50.000,	NULL,	10000.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(9,	3,	4,	5,	'CAD',	850.00,	'user/year',	100.000,	NULL,	8000.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(10,	4,	1,	2,	'CAD',	125.00,	'hour',	4.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(11,	4,	2,	2,	'CAD',	120.00,	'hour',	8.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(12,	4,	3,	2,	'CAD',	115.00,	'hour',	16.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(13,	5,	1,	3,	'CAD',	185.00,	'run',	1.000,	NULL,	250.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(14,	5,	2,	3,	'CAD',	175.00,	'run',	10.000,	NULL,	200.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(15,	5,	3,	3,	'CAD',	165.00,	'run',	25.000,	NULL,	150.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(16,	6,	1,	3,	'CAD',	235.00,	'run',	1.000,	NULL,	300.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(17,	6,	2,	3,	'CAD',	220.00,	'run',	10.000,	NULL,	250.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(18,	6,	3,	3,	'CAD',	205.00,	'run',	25.000,	NULL,	200.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(19,	7,	1,	3,	'CAD',	450.00,	'run',	1.000,	NULL,	500.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(20,	7,	2,	3,	'CAD',	420.00,	'run',	5.000,	NULL,	400.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(21,	7,	3,	3,	'CAD',	390.00,	'run',	10.000,	NULL,	300.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(22,	8,	1,	3,	'CAD',	850.00,	'camera',	4.000,	8.000,	800.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(23,	8,	2,	3,	'CAD',	800.00,	'camera',	4.000,	16.000,	600.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(24,	9,	1,	3,	'CAD',	1250.00,	'camera',	8.000,	32.000,	1500.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(25,	9,	2,	3,	'CAD',	1150.00,	'camera',	8.000,	64.000,	1200.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(26,	9,	3,	3,	'CAD',	1050.00,	'camera',	16.000,	NULL,	1000.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(27,	10,	2,	1,	'CAD',	75000.00,	'system',	1.000,	NULL,	5000.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(28,	10,	3,	1,	'CAD',	70000.00,	'system',	1.000,	NULL,	3000.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(29,	11,	1,	3,	'CAD',	1200.00,	'door',	1.000,	1.000,	300.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(30,	11,	2,	3,	'CAD',	1100.00,	'door',	1.000,	1.000,	250.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(31,	12,	1,	3,	'CAD',	1800.00,	'door',	2.000,	16.000,	1000.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(32,	12,	2,	3,	'CAD',	1650.00,	'door',	2.000,	32.000,	800.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(33,	12,	3,	3,	'CAD',	1500.00,	'door',	4.000,	NULL,	600.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(34,	13,	2,	1,	'CAD',	25000.00,	'system',	1.000,	NULL,	3000.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(35,	13,	3,	1,	'CAD',	22000.00,	'system',	1.000,	NULL,	2000.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(36,	14,	1,	2,	'CAD',	95.00,	'hour',	1.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(37,	14,	2,	2,	'CAD',	90.00,	'hour',	1.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(38,	15,	1,	4,	'CAD',	250.00,	'user/month',	10.000,	NULL,	500.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(39,	15,	2,	4,	'CAD',	225.00,	'user/month',	25.000,	NULL,	400.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(40,	15,	3,	4,	'CAD',	200.00,	'user/month',	50.000,	NULL,	300.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(41,	16,	1,	2,	'CAD',	175.00,	'hour',	8.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(42,	16,	2,	2,	'CAD',	165.00,	'hour',	16.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(43,	16,	3,	2,	'CAD',	155.00,	'hour',	24.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(44,	17,	1,	2,	'CAD',	185.00,	'hour',	8.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(45,	17,	2,	2,	'CAD',	175.00,	'hour',	16.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(46,	17,	3,	2,	'CAD',	165.00,	'hour',	24.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(47,	18,	1,	1,	'CAD',	12000.00,	'project',	1.000,	NULL,	2000.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(48,	18,	2,	1,	'CAD',	10000.00,	'project',	1.000,	NULL,	1500.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(49,	19,	1,	1,	'CAD',	45000.00,	'project',	1.000,	NULL,	5000.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(50,	19,	2,	1,	'CAD',	40000.00,	'project',	1.000,	NULL,	4000.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(51,	19,	3,	1,	'CAD',	35000.00,	'project',	1.000,	NULL,	3500.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(52,	20,	1,	4,	'CAD',	0.15,	'GB/month',	100.000,	NULL,	100.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(53,	20,	2,	4,	'CAD',	0.12,	'GB/month',	500.000,	NULL,	75.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(54,	20,	3,	4,	'CAD',	0.10,	'GB/month',	1000.000,	NULL,	50.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(55,	21,	1,	4,	'CAD',	85.00,	'device/month',	5.000,	50.000,	200.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(56,	21,	2,	4,	'CAD',	75.00,	'device/month',	10.000,	100.000,	150.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(57,	21,	3,	4,	'CAD',	65.00,	'device/month',	25.000,	NULL,	100.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(58,	22,	1,	4,	'CAD',	25.00,	'device/month',	10.000,	100.000,	100.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(59,	22,	2,	4,	'CAD',	22.00,	'device/month',	25.000,	250.000,	75.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(60,	22,	3,	4,	'CAD',	20.00,	'device/month',	50.000,	NULL,	50.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(61,	23,	1,	4,	'CAD',	15.00,	'device/month',	10.000,	100.000,	50.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(62,	23,	2,	4,	'CAD',	12.00,	'device/month',	25.000,	250.000,	40.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(63,	23,	3,	4,	'CAD',	10.00,	'device/month',	50.000,	NULL,	25.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(64,	24,	1,	2,	'CAD',	65.00,	'hour',	2.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(65,	24,	2,	2,	'CAD',	60.00,	'hour',	4.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(66,	25,	1,	2,	'CAD',	125.00,	'hour',	4.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(67,	25,	2,	2,	'CAD',	115.00,	'hour',	8.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(68,	26,	1,	3,	'CAD',	2500.00,	'session',	1.000,	1.000,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(69,	26,	2,	3,	'CAD',	2200.00,	'session',	1.000,	1.000,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(70,	27,	1,	2,	'CAD',	165.00,	'hour',	8.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(71,	27,	2,	2,	'CAD',	155.00,	'hour',	16.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(72,	27,	3,	2,	'CAD',	145.00,	'hour',	32.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(73,	28,	1,	3,	'CAD',	8500.00,	'project',	1.000,	NULL,	1000.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(74,	28,	2,	3,	'CAD',	7500.00,	'project',	1.000,	NULL,	800.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(75,	29,	1,	3,	'CAD',	3500.00,	'project',	1.000,	NULL,	500.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(76,	29,	2,	3,	'CAD',	3000.00,	'project',	1.000,	NULL,	400.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(77,	30,	1,	2,	'CAD',	185.00,	'unit',	1.000,	NULL,	150.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(78,	30,	2,	2,	'CAD',	165.00,	'unit',	3.000,	NULL,	120.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(79,	31,	1,	2,	'CAD',	225.00,	'unit',	1.000,	NULL,	200.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(80,	31,	2,	2,	'CAD',	195.00,	'unit',	3.000,	NULL,	150.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(81,	32,	1,	4,	'CAD',	0.08,	'GB/month',	500.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(82,	32,	2,	4,	'CAD',	0.06,	'GB/month',	1000.000,	NULL,	0.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(83,	33,	1,	3,	'CAD',	185.00,	'camera',	1.000,	NULL,	150.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(84,	33,	2,	3,	'CAD',	165.00,	'camera',	5.000,	NULL,	120.00,	NULL,	'2024-01-01',	NULL,	1,	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2);

DELIMITER ;;

CREATE TRIGGER `tr_service_price_overlap_check` BEFORE INSERT ON `wp_srvc_service_prices` FOR EACH ROW
BEGIN DECLARE overlap_count INT DEFAULT 0; SELECT COUNT(*) INTO overlap_count FROM `wp_srvc_service_prices` sp WHERE sp.service_id = NEW.service_id AND sp.pricing_tier_id = NEW.pricing_tier_id AND sp.pricing_model_id = NEW.pricing_model_id AND ( (NEW.effective_from BETWEEN sp.effective_from AND COALESCE(sp.effective_to, '9999-12-31')) OR (COALESCE(NEW.effective_to, '9999-12-31') BETWEEN sp.effective_from AND COALESCE(sp.effective_to, '9999-12-31')) OR (sp.effective_from BETWEEN NEW.effective_from AND COALESCE(NEW.effective_to, '9999-12-31')) ); IF overlap_count > 0 THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Overlapping service price ranges not allowed for same service/tier/model combination'; END IF; END;;

CREATE TRIGGER `tr_service_price_overlap_check_update` BEFORE UPDATE ON `wp_srvc_service_prices` FOR EACH ROW
BEGIN DECLARE overlap_count INT DEFAULT 0; SELECT COUNT(*) INTO overlap_count FROM `wp_srvc_service_prices` sp WHERE sp.service_id = NEW.service_id AND sp.pricing_tier_id = NEW.pricing_tier_id AND sp.pricing_model_id = NEW.pricing_model_id AND sp.id <> NEW.id AND ( (NEW.effective_from BETWEEN sp.effective_from AND COALESCE(sp.effective_to, '9999-12-31')) OR (COALESCE(NEW.effective_to, '9999-12-31') BETWEEN sp.effective_from AND COALESCE(sp.effective_to, '9999-12-31')) OR (sp.effective_from BETWEEN NEW.effective_from AND COALESCE(NEW.effective_to, '9999-12-31')) ); IF overlap_count > 0 THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Overlapping service price ranges not allowed for same service/tier/model combination'; END IF; END;;

DELIMITER ;

DROP TABLE IF EXISTS `wp_srvc_service_relationships`;
CREATE TABLE `wp_srvc_service_relationships` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `service_id` bigint(20) NOT NULL,
  `related_service_id` bigint(20) NOT NULL,
  `relation_type` enum('prerequisite','dependency','incompatible_with','substitute_for') NOT NULL,
  `notes` varchar(512) DEFAULT NULL,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_service_relationship` (`service_id`,`related_service_id`,`relation_type`),
  KEY `idx_service_relationship__related_service_id` (`related_service_id`),
  KEY `idx_service_relationship__relationship_type` (`relation_type`),
  KEY `idx_service_relationship__deleted_at` (`deleted_at`),
  KEY `idx_service_relationship__created_by` (`created_by`),
  KEY `idx_service_relationship__updated_by` (`updated_by`),
  CONSTRAINT `fk_service_relationship__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_service_relationship__related_service` FOREIGN KEY (`related_service_id`) REFERENCES `wp_srvc_services` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_service_relationship__service` FOREIGN KEY (`service_id`) REFERENCES `wp_srvc_services` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_service_relationship__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Service relationships: prerequisites, dependencies, incompatibilities, substitutions';

INSERT INTO `wp_srvc_service_relationships` (`id`, `service_id`, `related_service_id`, `relation_type`, `notes`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	1,	2,	'substitute_for',	'Professional VoIP can substitute for Basic VoIP with additional features',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	1,	4,	'prerequisite',	'VoIP installation required for system deployment',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	1,	5,	'prerequisite',	'Cat6 cabling required for VoIP phone connectivity',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	2,	3,	'substitute_for',	'Enterprise VoIP can substitute for Professional VoIP in large deployments',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	2,	4,	'prerequisite',	'VoIP installation required for system deployment',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	2,	6,	'prerequisite',	'Cat6A cabling recommended for professional VoIP systems',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	2,	15,	'dependency',	'Professional VoIP systems typically require premium support',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	3,	4,	'prerequisite',	'VoIP installation required for system deployment',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(9,	3,	7,	'prerequisite',	'Fiber backbone required for enterprise VoIP redundancy',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(10,	3,	15,	'prerequisite',	'Enterprise VoIP requires premium support contract',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(11,	5,	6,	'incompatible_with',	'Cat6 and Cat6A cabling are alternative solutions',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(12,	6,	7,	'incompatible_with',	'Cat6A and Fiber are typically alternative backbone solutions',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(13,	8,	9,	'substitute_for',	'Professional cameras can substitute for Basic cameras',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(14,	9,	6,	'prerequisite',	'Cat6A cabling required for professional camera systems',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(15,	9,	10,	'substitute_for',	'Enterprise cameras can substitute for Professional cameras',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(16,	10,	7,	'prerequisite',	'Fiber backbone required for enterprise camera systems',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(17,	10,	15,	'prerequisite',	'Enterprise camera systems require premium support',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(18,	10,	17,	'prerequisite',	'Security audit recommended for enterprise camera systems',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(19,	11,	12,	'substitute_for',	'Multi-door access can substitute for Basic access control',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(20,	12,	13,	'substitute_for',	'Enterprise access can substitute for Multi-door access control',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(21,	13,	15,	'prerequisite',	'Enterprise access control requires premium support',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(22,	13,	17,	'prerequisite',	'Security audit required before enterprise access control implementation',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2),
(23,	14,	15,	'incompatible_with',	'Basic and Premium support are mutually exclusive',	'2025-08-25 23:57:12',	'2025-09-10 14:42:07',	NULL,	1,	2);

DELIMITER ;;

CREATE TRIGGER `tr_service_relation_no_self_ref` BEFORE INSERT ON `wp_srvc_service_relationships` FOR EACH ROW
BEGIN IF NEW.service_id = NEW.related_service_id THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Service cannot have a relation to itself'; END IF; END;;

CREATE TRIGGER `tr_service_relation_no_self_ref_update` BEFORE UPDATE ON `wp_srvc_service_relationships` FOR EACH ROW
BEGIN IF NEW.service_id = NEW.related_service_id THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Service cannot have a relation to itself'; END IF; END;;

DELIMITER ;

DROP TABLE IF EXISTS `wp_srvc_service_types`;
CREATE TABLE `wp_srvc_service_types` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(64) NOT NULL,
  `code` varchar(64) NOT NULL,
  `created_at` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_at` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `deleted_at` datetime DEFAULT NULL,
  `created_by` bigint(20) unsigned NOT NULL COMMENT 'Future FK to user table',
  `updated_by` bigint(20) unsigned NOT NULL COMMENT 'Future FK to user table',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_service_type__name` (`name`),
  UNIQUE KEY `uq_service_type__code` (`code`),
  KEY `idx_service_type__deleted_at` (`deleted_at`),
  KEY `idx_service_type__created_by` (`created_by`),
  KEY `idx_service_type__updated_by` (`updated_by`),
  CONSTRAINT `fk_service_type__created_by` FOREIGN KEY (`created_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE,
  CONSTRAINT `fk_service_type__updated_by` FOREIGN KEY (`updated_by`) REFERENCES `wp_users` (`ID`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci COMMENT='Defines types of services offered (e.g., consulting, hosting, support)';

INSERT INTO `wp_srvc_service_types` (`id`, `name`, `code`, `created_at`, `updated_at`, `deleted_at`, `created_by`, `updated_by`) VALUES
(1,	'Installation Services',	'INSTALL',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(2,	'Maintenance & Support',	'SUPPORT',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(3,	'Consulting Services',	'CONSULT',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(4,	'Training Services',	'TRAINING',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(5,	'Configuration Services',	'CONFIG',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(6,	'Repair Services',	'REPAIR',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(7,	'Upgrade Services',	'UPGRADE',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(8,	'Design & Planning',	'DESIGN',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(9,	'Monitoring Services',	'MONITOR',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(10,	'Emergency Services',	'EMERGENCY',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(11,	'Managed Services',	'MANAGED',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(12,	'Cloud Migration Services',	'CLOUDMIG',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(13,	'Data Backup & Recovery',	'BACKUP',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(14,	'Security Audits',	'SECURITY',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	1),
(15,	'Compliance Services',	'COMPLY',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(16,	'Network Assessments',	'NETASSESS',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(17,	'Performance Optimization',	'OPTIMIZE',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(18,	'Integration Services',	'INTEGRATE',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(19,	'Custom Development',	'CUSTOMDEV',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2),
(20,	'Project Management',	'PMO',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(21,	'Proactive Health Checks',	'HEALTH',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(22,	'License Management',	'LICENSE',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	1),
(23,	'Vendor Coordination',	'VENDOR',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	1,	2),
(24,	'IT Roadmap & Strategy',	'STRATEGY',	'2025-08-28 23:57:07',	'2025-09-10 14:42:07',	NULL,	2,	2);

-- 2025-09-10 14:44:05 UTC
